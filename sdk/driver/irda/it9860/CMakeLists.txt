include_directories(
    .
    ..
    ${PROJECT_SOURCE_DIR}/sdk/include/irda
	${CMAKE_CURRENT_BINARY_DIR}
)

function(ITE_ADD_DEFINITIONS_IF_DEFINED_CFG_IRN_RX_PROTOCOL n)
    if (DEFINED CFG_IR${n}_RX_PROTOCOL)
        configure_file(${PROJECT_SOURCE_DIR}/sdk/target/ir/${CFG_IR${n}_RX_PROTOCOL} ${CMAKE_CURRENT_BINARY_DIR}/ir${n}_protocol.inc)
    endif()
endfunction()

ITE_ADD_DEFINITIONS_IF_DEFINED_CFG_IRN_RX_PROTOCOL(0)
ITE_ADD_DEFINITIONS_IF_DEFINED_CFG_IRN_RX_PROTOCOL(1)
ITE_ADD_DEFINITIONS_IF_DEFINED_CFG_IRN_RX_PROTOCOL(2)
ITE_ADD_DEFINITIONS_IF_DEFINED_CFG_IRN_RX_PROTOCOL(3)

add_library(irda STATIC
    irda.c
)
